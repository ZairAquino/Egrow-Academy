<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Premium Logo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .logo-test {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            border: 2px dashed #ccc;
            border-radius: 8px;
        }
        .logo-image {
            max-width: 200px;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
        .premium-indicator {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
            margin: 10px 0;
        }
        .premium-true {
            background: #ffd700;
            color: #000;
        }
        .premium-false {
            background: #6c757d;
            color: white;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Test Premium Logo</h1>
        <p>Esta p√°gina prueba la carga del logo premium (logop.png) vs el logo gratuito (logog.png).</p>
        
        <div class="test-info">
            <strong>Archivos a probar:</strong><br>
            - Premium: /images/logop.png<br>
            - Gratuito: /images/logog.png
        </div>

        <div class="logo-test">
            <h3>Logo Premium (logop.png)</h3>
            <div class="premium-indicator premium-true">PREMIUM</div>
            <img 
                id="premium-logo" 
                src="/images/logop.png" 
                alt="eGrow Academy Premium" 
                class="logo-image"
                onload="logImageLoad('premium', true)"
                onerror="logImageLoad('premium', false)"
            >
            <div id="premium-status" class="test-info">Cargando...</div>
        </div>

        <div class="logo-test">
            <h3>Logo Gratuito (logog.png)</h3>
            <div class="premium-indicator premium-false">GRATUITO</div>
            <img 
                id="free-logo" 
                src="/images/logog.png" 
                alt="eGrow Academy" 
                class="logo-image"
                onload="logImageLoad('free', true)"
                onerror="logImageLoad('free', false)"
            >
            <div id="free-status" class="test-info">Cargando...</div>
        </div>

        <div class="logo-test">
            <h3>Logo con Cache Busting</h3>
            <div class="premium-indicator premium-true">PREMIUM (Cache Busting)</div>
            <img 
                id="premium-cache-bust" 
                src="/images/logop.png?v=test&t=123456789" 
                alt="eGrow Academy Premium (Cache Bust)" 
                class="logo-image"
                onload="logImageLoad('premium-cache-bust', true)"
                onerror="logImageLoad('premium-cache-bust', false)"
            >
            <div id="premium-cache-bust-status" class="test-info">Cargando...</div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button onclick="reloadAllImages()">üîÑ Recargar Todas las Im√°genes</button>
            <button onclick="clearCache()">üóëÔ∏è Limpiar Cache</button>
            <button onclick="testWithTimestamp()">‚è∞ Probar con Timestamp</button>
        </div>

        <div id="console-log" class="test-info" style="margin-top: 20px; max-height: 200px; overflow-y: auto;">
            <strong>Console Log:</strong><br>
            <div id="log-content"></div>
        </div>
    </div>

    <script>
        function log(message) {
            const logContent = document.getElementById('log-content');
            const timestamp = new Date().toLocaleTimeString();
            logContent.innerHTML += `[${timestamp}] ${message}<br>`;
            logContent.scrollTop = logContent.scrollHeight;
            console.log(message);
        }

        function logImageLoad(type, success) {
            const statusElement = document.getElementById(`${type}-status`);
            if (success) {
                statusElement.innerHTML = `‚úÖ <strong>√âXITO:</strong> Imagen cargada correctamente`;
                statusElement.style.color = 'green';
                log(`‚úÖ ${type}: Imagen cargada correctamente`);
            } else {
                statusElement.innerHTML = `‚ùå <strong>ERROR:</strong> No se pudo cargar la imagen`;
                statusElement.style.color = 'red';
                log(`‚ùå ${type}: Error al cargar la imagen`);
            }
        }

        function reloadAllImages() {
            log('üîÑ Recargando todas las im√°genes...');
            
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                const currentSrc = img.src;
                img.src = '';
                setTimeout(() => {
                    img.src = currentSrc;
                }, 100);
            });
        }

        function clearCache() {
            log('üóëÔ∏è Intentando limpiar cache...');
            
            // Intentar limpiar cache del navegador
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        caches.delete(name);
                        log(`üóëÔ∏è Cache eliminado: ${name}`);
                    });
                });
            }
            
            // Recargar im√°genes con timestamp
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                const baseSrc = img.src.split('?')[0];
                img.src = `${baseSrc}?v=${Date.now()}&cache-bust=true`;
            });
        }

        function testWithTimestamp() {
            log('‚è∞ Probando con timestamp...');
            
            const timestamp = Date.now();
            const randomId = Math.random().toString(36).substring(7);
            
            const premiumImg = document.getElementById('premium-logo');
            premiumImg.src = `/images/logop.png?v=${timestamp}&r=${randomId}&test=true`;
            
            log(`‚è∞ Nueva URL premium: ${premiumImg.src}`);
        }

        // Log inicial
        log('üöÄ P√°gina de prueba cargada');
        log('üìÅ Verificando archivos de logo...');
        
        // Verificar si los archivos existen
        fetch('/images/logop.png', { method: 'HEAD' })
            .then(response => {
                if (response.ok) {
                    log('‚úÖ logop.png existe y es accesible');
                } else {
                    log('‚ùå logop.png no es accesible');
                }
            })
            .catch(error => {
                log(`‚ùå Error verificando logop.png: ${error}`);
            });
            
        fetch('/images/logog.png', { method: 'HEAD' })
            .then(response => {
                if (response.ok) {
                    log('‚úÖ logog.png existe y es accesible');
                } else {
                    log('‚ùå logog.png no es accesible');
                }
            })
            .catch(error => {
                log(`‚ùå Error verificando logog.png: ${error}`);
            });
    </script>
</body>
</html>