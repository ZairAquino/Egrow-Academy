import { PrismaClient } from "@prisma/client"; import bcrypt from "bcryptjs"; const prisma = new PrismaClient(); async function createTestUser() { try { const email = "prueba@egrow.com"; const password = "123456"; const passwordHash = await bcrypt.hash(password, 12); const existing = await prisma.user.findUnique({ where: { email } }); if (existing) { await prisma.user.update({ where: { email }, data: { passwordHash, isActive: true, emailVerified: true } }); console.log("Usuario actualizado"); } else { await prisma.user.create({ data: { email, passwordHash, firstName: "Usuario", lastName: "Prueba", isActive: true, emailVerified: true, membershipLevel: "FREE" } }); console.log("Usuario creado"); } console.log(`Usuario: ${email} / ${password}`); } catch (error) { console.error("Error:", error); } finally { await prisma.$disconnect(); } } createTestUser();
